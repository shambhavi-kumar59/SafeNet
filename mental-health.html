<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mental Health Support | SafeNet</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
    .chat-container {
      height: 400px;
      background-image: linear-gradient(to bottom, #f0fdf4, #ecfdf5);
    }
    .message-bubble {
      max-width: 80%;
      border-radius: 1rem;
      padding: 0.75rem 1rem;
      margin-bottom: 0.75rem;
      position: relative;
    }
    .user-message {
      background-color: #22c55e;
      color: white;
      margin-left: auto;
      border-bottom-right-radius: 0.25rem;
    }
    .bot-message {
      background-color: white;
      color: #1f2937;
      border: 1px solid #e5e7eb;
      margin-right: auto;
      border-bottom-left-radius: 0.25rem;
    }
    .breathing-circle {
      width: 120px;
      height: 120px;
      animation: breathe 8s infinite ease-in-out;
    }
    @keyframes breathe {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }
  </style>
</head>
<body class="bg-gray-50">
  <!-- Header -->
  <div id="header"></div>

  <main class="container mx-auto px-4 py-8">
    <div class="max-w-4xl mx-auto">
      <div class="text-center mb-12">
        <h1 class="text-3xl font-bold text-gray-800 mb-2">Emotional Support & Mental Health</h1>
        <p class="text-gray-600 max-w-2xl mx-auto">You're not alone. Our AI companion and resources are here to help you through difficult times.</p>
      </div>

      <!-- Chatbot Section -->
      <div class="bg-white rounded-xl shadow-sm p-6 mb-8">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">SafeNet Support Chat</h2>
        <div class="chat-container rounded-lg border border-gray-200 p-4 mb-4 overflow-y-auto" id="chat-window">
          <div class="bot-message message-bubble">
            <div class="font-medium text-green-600 mb-1">SafeNet AI</div>
            <p>Hello there. I'm here to listen and help. How are you feeling today?</p>
          </div>
        </div>
        <div class="flex">
          <input type="text" id="chat-input" placeholder="Type your message..." class="flex-grow px-4 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-green-500 focus:border-green-500">
          <button id="send-btn" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-r-lg transition">
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
        <div class="text-xs text-gray-500 mt-2">
          <i class="fas fa-info-circle mr-1"></i> This is an AI assistant, not a replacement for professional help.
        </div>
      </div>

      <!-- Support Resources -->
      <div class="grid md:grid-cols-2 gap-8">
        <!-- Breathing Exercise -->
        <div class="bg-white rounded-xl shadow-sm p-6">
          <h2 class="text-xl font-semibold text-gray-800 mb-4">Grounding Exercise</h2>
          <div class="text-center">
            <div class="breathing-circle mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center">
              <div class="text-center">
                <div class="text-2xl font-bold text-green-600" id="breath-text">Breathe In</div>
                <div class="text-sm text-gray-600" id="countdown">4 seconds</div>
              </div>
            </div>
            <p class="text-gray-600 mb-4">Follow the circle's rhythm to calm your nervous system:</p>
            <ol class="text-left list-decimal pl-5 space-y-2 text-gray-700">
              <li>Breathe in for 4 seconds</li>
              <li>Hold for 4 seconds</li>
              <li>Breathe out for 6 seconds</li>
              <li>Repeat for 5 cycles</li>
            </ol>
          </div>
        </div>

        <!-- Crisis Resources -->
        <div class="bg-white rounded-xl shadow-sm p-6">
          <h2 class="text-xl font-semibold text-gray-800 mb-4">Crisis Resources</h2>
          <div class="space-y-4">
            <div class="p-4 border border-green-100 rounded-lg bg-green-50">
              <div class="flex items-start">
                <div class="flex-shrink-0 h-10 w-10 rounded-full bg-green-100 flex items-center justify-center text-green-600 mr-3">
                  <i class="fas fa-phone-alt"></i>
                </div>
                <div>
                  <h3 class="font-medium text-gray-800">24/7 Crisis Hotline</h3>
                  <p class="text-sm text-gray-600">Call <span class="font-semibold text-green-600">1-800-273-TALK</span> for immediate support</p>
                </div>
              </div>
            </div>
            <div class="p-4 border border-green-100 rounded-lg bg-green-50">
              <div class="flex items-start">
                <div class="flex-shrink-0 h-10 w-10 rounded-full bg-green-100 flex items-center justify-center text-green-600 mr-3">
                  <i class="fas fa-globe-americas"></i>
                </div>
                <div>
                  <h3 class="font-medium text-gray-800">Find Local Help</h3>
                  <p class="text-sm text-gray-600">Search <a href="#" class="text-green-600 underline">Psychology Today</a> for therapists near you</p>
                </div>
              </div>
            </div>
            <div class="p-4 border border-green-100 rounded-lg bg-green-50">
              <div class="flex items-start">
                <div class="flex-shrink-0 h-10 w-10 rounded-full bg-green-100 flex items-center justify-center text-green-600 mr-3">
                  <i class="fas fa-book"></i>
                </div>
                <div>
                  <h3 class="font-medium text-gray-800">Self-Help Resources</h3>
                  <p class="text-sm text-gray-600">Explore coping strategies at <a href="#" class="text-green-600 underline">Mental Health America</a></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <div id="footer"></div>

  <!-- Scripts -->
  <script>
    // Load header and footer components
    fetch('header.html')
      .then(response => response.text())
      .then(data => document.getElementById('header').innerHTML = data);
      
    fetch('footer.html')
      .then(response => response.text())
      .then(data => document.getElementById('footer').innerHTML = data);

    // Breathing exercise animation
    const breathText = document.getElementById('breath-text');
    const countdown = document.getElementById('countdown');
    let breathPhase = 0;
    let seconds = 4;

    const breathingPhases = [
      { text: "Breathe In", duration: 4 },
      { text: "Hold", duration: 4 },
      { text: "Breathe Out", duration: 6 },
      { text: "Rest", duration: 2 }
    ];

    setInterval(() => {
      seconds--;
      countdown.textContent = `${seconds} seconds`;
      
      if (seconds <= 0) {
        breathPhase = (breathPhase + 1) % breathingPhases.length;
        const phase = breathingPhases[breathPhase];
        breathText.textContent = phase.text;
        seconds = phase.duration;
      }
    }, 1000);

    // Chatbot functionality
    const chatWindow = document.getElementById('chat-window');
    const chatInput = document.getElementById('chat-input');
    const sendBtn = document.getElementById('send-btn');

    const botResponses = [
      "I hear you. That sounds difficult. Would you like to talk more about what you're experiencing?",
      "It's completely normal to feel this way during crises. You're showing strength by reaching out.",
      "I'm here to listen. Can you tell me more about what's troubling you?",
      "Remember to practice self-care during difficult times. Would you like some grounding exercises?",
      "You're not alone in this. Many people find comfort in connecting with others during hard times."
    ];

    function addMessage(text, isUser) {
      const messageDiv = document.createElement('div');
      messageDiv.className = `message-bubble ${isUser ? 'user-message' : 'bot-message'}`;
      
      if (!isUser) {
        const botLabel = document.createElement('div');
        botLabel.className = 'font-medium text-green-600 mb-1';
        botLabel.textContent = 'SafeNet AI';
        messageDiv.appendChild(botLabel);
      }
      
      const messageText = document.createElement('p');
      messageText.textContent = text;
      messageDiv.appendChild(messageText);
      
      chatWindow.appendChild(messageDiv);
      chatWindow.scrollTop = chatWindow.scrollHeight;
    }

    sendBtn.addEventListener('click', () => {
      const message = chatInput.value.trim();
      if (message) {
        addMessage(message, true);
        chatInput.value = '';
        
        // Simulate bot thinking
        setTimeout(() => {
          const randomResponse = botResponses[Math.floor(Math.random() * botResponses.length)];
          addMessage(randomResponse, false);
        }, 1000);
      }
    });

    chatInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        sendBtn.click();
      }
    });
  </script>
</body>
</html>